<?xml version="1.0" encoding="ISO-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions">
<h:head>
	<title>Music Store</title>

	<style type="text/css">
.ui-layout-north {
	z-index: 20 !important;
	overflow: visible !important;;
}

.ui-layout-north .ui-layout-unit-content {
	overflow: visible !important;
}

h1 {
	padding-left: 585px;
}
</style>
</h:head>

<h:body>

	<p:layout fullPage="true">

		<p:layoutUnit id="top" position="north" size="68">

			<div class="header">
				<ui:insert name="header">
					<ui:include src="header_adm.xhtml"></ui:include>
				</ui:insert>
			</div>

		</p:layoutUnit>

		<p:layoutUnit id="bottom" position="south" size="60">
			<p:outputLabel value="&#169; 2015 music-store" />
		</p:layoutUnit>

		<p:layoutUnit id="center" position="center">
			<div>
				<h1>Relatório</h1>
				<h:form>
					<p:commandButton value="Pesquisar"
						action="#{itemVendaMB.gerarRelatorioLucro()}" />
				</h:form>
			</div>
			<br />
			<br />
			<div>
				<h:form id="form">
					<p:dataTable value="#{itemVendaMB.listar('listaLucro')}" var="relatorio"
						paginator="true" rows="5"
						paginatorTemplate="{CurrentPageReport} {FirstPageLink}
									{PreviousPageLink} {PageLinks}
									{NextPageLink} {LastPageLink}
									{RowsPerPageDropdown}"
						rowsPerPageTemplate="5,10,15" style="width: 80%" align="center">
						<p:column>
							<f:facet name="header">Produto</f:facet>
							<h:outputText value="#{relatorio.produto.nome}" />
						</p:column>
						<p:column>
							<f:facet name="header">Valor custo</f:facet>
							<h:outputText value="#{relatorio.produto.estoque.valorCusto}" />
						</p:column>
						<p:column>
							<f:facet name="header">Valor venda</f:facet>
							<h:outputText value="#{relatorio.produto.estoque.valorVenda}" />
						</p:column>
						<p:column>
							<f:facet name="header">Quantidade vendida</f:facet>
							<h:outputText value="#{relatorio.quantidade}" />
						</p:column>
						<p:column>
							<f:facet name="header">Lucro</f:facet>
							<h:outputText value="#{relatorio.produto.estoque.quantidade}" />
						</p:column>	
					</p:dataTable>
					
				
				</h:form>

			</div>
		</p:layoutUnit>

	</p:layout>


</h:body>

</html>
